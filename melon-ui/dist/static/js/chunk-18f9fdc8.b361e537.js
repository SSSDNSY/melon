(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18f9fdc8"],{3891:function(e,t,n){"use strict";n("5ce7")},"5ce7":function(e,t,n){},"724d":function(e,t,n){},"91ab":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-viewer"},[n("el-row",{attrs:{gutter:e.formConf.gutter}},[n("el-form",{ref:e.formConf.formModel,attrs:{size:e.formConf.size,model:e.form,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled}},[e._l(e.itemList,(function(t,a){return["row"===t.compType?n("preview-row-item",{key:"row-"+a,attrs:{model:t}},e._l(t.columns,(function(t){return n("el-col",{key:t.index,attrs:{span:t.span}},e._l(t.list,(function(t){return n("form-view-item",{key:t.id,attrs:{model:t},model:{value:e.form[t.id],callback:function(n){e.$set(e.form,t.id,n)},expression:"form[item.id]"}})})),1)})),1):"dynamicTable"===t.compType?n("fancy-dynamic-view-table",{key:"dynamic-"+a,ref:t.id,refInFor:!0,attrs:{data:e.form[t.id],conf:t},scopedSlots:e._u([{key:"item",fn:function(a){var o=a.rowScope,i=a.item;return[n("fancy-dynamic-table-view-item",{key:"tableIndex-"+o.$index,ref:i.id+o.$index,refInFor:!0,attrs:{model:i,parent:t,index:o.$index},model:{value:o.row[i.id],callback:function(t){e.$set(o.row,i.id,t)},expression:"rowScope.row[item.id]"}})]}}],null,!0)}):"table"===t.compType?n("fancy-edit-table",{attrs:{layoutArray:t.layoutArray,tdStyle:t.tdStyle,width:t.width,height:t.height},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.td;return e._l(a.columns,(function(t){return n("form-view-item",{key:t.id,attrs:{model:t},model:{value:e.form[t.id],callback:function(n){e.$set(e.form,t.id,n)},expression:"form[item.id]"}})}))}}],null,!0)}):n("el-col",{key:a,staticClass:"drag-col-wrapper",attrs:{span:t.span}},[n("form-view-item",{attrs:{model:t},model:{value:e.form[t.id],callback:function(n){e.$set(e.form,t.id,n)},expression:"form[element.id]"}})],1)]}))],2)],1)],1)},o=[],i=(n("b64b"),n("53ca")),r=(n("d3b7"),n("159b"),n("0f1a")),l=n("3c5a"),s=n("f655"),c=n("5f87"),u=n("d0f3");function f(e,t){if(t.props.value=e.value,t.on.input=function(t){e.$emit("input",t)},"upload"===e.conf.compType){if(t.attrs["headers"]={Authorization:"Bearer "+Object(c["a"])()},void 0!==t.props.value&&""!==t.props.value){var n=JSON.parse(t.props.value);t.props["file-list"]=n}t.attrs["on-preview"]=function(e){console.log("on-preview file",e),u["a"].oss(e.ossId)}}}var d,m,p,b,h={render:function(e){var t={attrs:{},props:{},on:{},style:{}};this.getRemoteData();var n=Object(r["b"])(this.conf),a=Object(l["default"])(e,n);return Object.keys(n).forEach((function(e){var a=n[e];t[e]?t[e]=a:"width"===e?t.style="width:"+a+"%":Object(r["a"])(e)?t.attrs[e]=a:t.props[e]=a})),f(this,t),e(n.ele,t,a)},props:["conf","value"],mixins:[s["a"]]},v={colItem:function(e,t,n){var a=this;t.disabled=!0;var o=t.labelWidth?"".concat(t.labelWidth,"px"):null;return"component"===t.viewType?e("el-form-item",{attrs:{label:t.showLabel?t.label:"","label-width":o,prop:t.id}},[e(h,{key:t.id,attrs:{conf:t,value:n},on:{input:function(e){a.$set(t,"value",e)}}})]):"html"===t.viewType?e("el-form-item",{attrs:{label:t.showLabel?t.label:"","label-width":o,prop:t.id}},[e("fancy-html",{attrs:{text:n}})]):("object"===Object(i["a"])(n)&&(n=n[0]+" "+t["range-separator"]+" "+n[1]),e("el-form-item",{attrs:{label:t.showLabel?t.label:"","label-width":o,prop:t.id}},[n]))}},y={name:"formViewItem",components:{render:h},props:["model","value"],data:function(){return{eleConfig:this.model}},render:function(e){return v.colItem.call(this,e,this.eleConfig,this.value)}},w=y,x=(n("fdfd"),n("2877")),k=Object(x["a"])(w,d,m,!1,null,"5946c906",null),g=k.exports,j=n("38a4"),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fancyDynamicTable"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,fit:!0,border:"",size:"mini","cell-style":{padding:"5px 0"},"header-cell-style":{background:"#F5F7FA"},"show-summary":e.conf["show-summary"],"summary-method":e.sumTotal}},[e.conf.showIndex?n("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50px",fixed:"left"}}):e._e(),e._l(e.conf.columns,(function(t,a){return n("el-table-column",{key:a,attrs:{align:"center",prop:t.id,"min-width":"150px;"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._t("item",null,{rowScope:n,item:t})]}}],null,!0)},[n("template",{slot:"header"},[e._v(" "+e._s(e.tableColumnLables[a])+" ")])],2)}))],2)],1)},O=[],T=(n("14d9"),n("d81d"),n("a9e3"),n("13d5"),{name:"fancyDynamicViewTable",props:["data","conf"],data:function(){return{tableColumns:[],tableColumnLables:[]}},mounted:function(){var e=this;this.conf.columns.forEach((function(t){e.tableColumnLables.push(t.label);var n={};Object.assign(n,t),e.tableColumns.push(n)}))},methods:{sumTotal:function(e){var t=this,n=e.columns,a=e.data,o=[];return n.forEach((function(e,n){if(0!==n){var i=a.map((function(t){return Number(t[e.property])}));i.every((function(e){return isNaN(e)}))?o[n]="":(o[n]=i.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0),o[n]+=" "+t.conf["summary-text"])}else o[n]=t.conf["sum-text"]})),o}}}),_=T,S=(n("3891"),Object(x["a"])(_,C,O,!1,null,"59e5027b",null)),I=S.exports,D={colItem:function(e,t,n){var a=this;t.disabled=!0;t.labelWidth&&"".concat(t.labelWidth,"px");return"component"===t.viewType?e(h,{key:t.id,attrs:{conf:t,value:n},on:{input:function(e){a.$set(t,"value",e)}}}):"html"===t.viewType?e("fancy-html",{attrs:{text:n}}):e("fancy-text",{attrs:{text:n,align:"center"}})}},$={name:"fancyDynamicTableViewItem",components:{render:h},props:["model","value"],data:function(){return{eleConfig:this.model}},render:function(e){return D.colItem.call(this,e,this.eleConfig,this.value)}},N=$,L=(n("cee44"),Object(x["a"])(N,p,b,!1,null,null,null)),E=L.exports,F=n("70da"),V={name:"dynamicFormView",data:function(){return{}},props:{value:{type:String,default:""},buildData:{type:String,default:""}},components:{formViewItem:g,previewRowItem:j["a"],fancyDynamicViewTable:I,fancyDynamicTableViewItem:E,fancyEditTable:F["a"]},mounted:function(){this.$nextTick((function(){}))},computed:{itemList:function(){if(""!==this.buildData){var e=JSON.parse(this.buildData);return e.list}return[]},form:function(){if(""!==this.value&&null!==this.value){var e=JSON.parse(this.value);return e}return{}},formConf:function(){if(""!==this.buildData){var e=JSON.parse(this.buildData);return e.config.disabled=this.disabled,e.config}return{}}}},J=V,z=(n("e2ff"),Object(x["a"])(J,a,o,!1,null,"6579fb5b",null));t["default"]=z.exports},"9af6":function(e,t,n){var a={"./el-button.js":"f585","./el-checkbox-group.js":"2e71","./el-divider.js":"651c","./el-input.js":"4262","./el-link.js":"83b6","./el-radio-group.js":"c81f","./el-select.js":"f133","./el-upload.js":"59f6","./index.js":"3c5a"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="9af6"},bde3:function(e,t,n){},cee44:function(e,t,n){"use strict";n("fbee")},e2ff:function(e,t,n){"use strict";n("724d")},fbee:function(e,t,n){},fdfd:function(e,t,n){"use strict";n("bde3")}}]);